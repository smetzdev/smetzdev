---
import { getCollection } from "astro:content";

const projects = await getCollection("projects");
---

<section>
  <h2 class="font-medium text-2xl md:text-4xl">Recent Projects</h2>
  <ul class="grid gap-4 mt-8 lg:grid-cols-2 xl:gap-6">
    {
      projects.map(({ data }) => (
        <li class="bg-gray-800 p-8 flex flex-col rounded-md">
          <h3 class="text-xl md:text-3xl">{data.title}</h3>
          <p class="leading-relaxed mt-6 text-xl text-pretty text-gray-300">
            {data.description}
          </p>
          <div class="pt-10 md:mt-auto md:flex md:justify-between md:items-center">
            {data.designerName && (
              <div class="max-md:mb-4">
                Design:&nbsp;
                <a target="_blank" href={data.designerLink}>
                  {data.designerName}
                </a>
              </div>
            )}
            <a
              class="bg-brawn-yellow text-brawn-gray rounded-lg text-center px-4 py-2 ml-auto"
              target="_blank"
              href={data.href}
            >
              Go to Project
            </a>
          </div>
        </li>
      ))
    }
  </ul>
</section>
